
<!-- saved from url=(0018)http://cmdhelp.ru/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<meta http-equiv="Content-Language" content="ru">

<title>Командная строка Windows (cmd). Справка и список комманд.</title>
<style>

a:link, a:visited 	{ color: #0000FF; text-decoration:underline;}

a:active, a:hover 	{ color: #FF0000;  cursor:hand; text-decoration:underline;}

/* Puts a little more breathing room above related topics link. - AMS*/
a.#reltopics 		{ position:relative; top:1em; }

h1
		{ font-size: 125%; 
		margin-bottom: .5em; clear:both; width: 85%; }

h2
		{ font-size: 110%;  
		margin-top: 1.5em;
		margin-bottom: .5em; clear:both; }

h3
		{ font-size: 100%; 
		margin-top: 1.2em;  
		margin-bottom: .5em; clear:both; }

h4
		{ font-size: 100%; 
		margin-top: 1.2em;  
		margin-bottom: .5em; clear:both; }

h5
		{ font-size: 100%; 
		margin-top: 1.2em;  
		margin-bottom: .5em; clear:both; }
	
p
		{ margin-top: .6em; 
		margin-bottom: .6em; }
			
ol
		{ margin-top: .5em; 
		margin-bottom: 0em; 
		margin-left: 2.1em; 
		padding-left: 0em;
		margin-right:2.1em; }
	
ul
		{ margin-top: .6em; 	
		margin-bottom: 0em;
		list-style-type: disc;
		margin-left: 1.5em;
		padding-left: 0em;
		margin-right: 1.5em; }
		
li
		{ margin-bottom: .7em; clear:both; }

dd
		{ margin-bottom: 0em; 
		margin-left: 1.5em; } 

/* for defined terms, follow the Document Conventions listing in the Microsoft Manual of Style: */
/* Keywords, functions, and anything else the user must enter exactly as shown are bold--add font-weight: bold; to the dt tag */
/* Variables, book titles, and placeholders the user must provide are italic--add font-style: italic; to the dt tag */
/* pre-defined arguments are bold and italic--add font-weight: bold; and font-style: italic; to the dt tag */


dt
		{ margin-top: 1em; }

pre
		{ margin-top: .5em;
		margin-bottom: .5em; }

code
		{ font-family: Courier New; 
		font-size: 1.1em; }




p.indent	{ margin-left: 1.3em; }       /* used to indent text for notes and warnings; use this instead of the blockquote tag */

p.indent2	{ margin-left: 3.5em; }   /* used to indent text a second level under the first  indent */

P.indentGray	{ color: #666666; } /*  used in quad-method procedures     */
		
p.procLabel	{ font-size: 100%; 	
		font-weight: bold; clear: both; width: 85%; margin-top: 2em; }
		
p.uatshoot	{ font-weight: bold; margin-bottom: -.5em; margin-top: 1em; }

p.menutitle {color: #ffffff; font-size: 8pt; background: #6B8EC6; border-width: 1px; border-color: #6B8EC6; border-style: solid; font-weight: bold;}

p.menubody {background-color:#EFF3F7; padding-bottom: 4px; padding-left: 4px; padding-right: 4px; padding-top: 4px; color: #026AB3; font-family: Verdana, Geneva, Arial, Helvetica; font-size: 11px;}

/***********************************************/
/* these class styles are used for the expanding and collapsing text files (expand function in shared.js)  */

#expand 	{margin-bottom: 0.6em; margin-left: 0em; margin-right: 0em;}

a:link.expandToggle, a:visited.expandToggle 	{color:#000000; font-weight: bold; text-decoration:none;}

a:hover.expandToggle, a:active.expandToggle 	{color:#0000FF;}
 
img.expand 	{ border: none; margin-right: 0.5em; width:.8em;}
		
div.expand	{ margin-left: 1.5em; margin-right: 1.5em;margin-bottom: 1em; display:none;}



/***********************************************/
/* this class for expand collapse appearing in a table  */

table.uatshoot		{background-color: #FFFFFF; width: 90%; }

table.uatshoot td	{ padding: 0px 0px 0px 5px; }

a:link.uatshoot, a:visited.uatshoot 	{color:#000000; font-weight: normal;  text-decoration:none;}

a:hover.uatshoot, a:active.uatshoot 	{color:#0000FF; text-decoration: none; }


/*******************************************/
/*  these classes are for thumbnail art      */

a:link img.thumbnail	{border-color: #0000FF;}

a:active img.thumbnail	{ border-color: #FF0000;}

a:hover img.thumbnail	{border-color: #FF0000;}

img.thumbnail		{vertical-align: top; margin-left: 0;
			 width:90; border-width:1;}
		 
div.thumbnail		{float:left; width: 105; margin-top: 1em; margin-bottom: -0.3em; 
			 clear: both;  }

/*********************************************/				
/* this class style is used for the navigation tree in MMC */
		
p.navTree	{ margin-top: .2em; }

ul.navTree 	{  list-style-type: none; }

li.branch	{ margin-top: -.5em; margin-bottom: .6em;}

a.where		{}	/* use for the expand <a> tag */

/***************************************************************/
/* these class styles are used for <span> tags  simulating buttons & their div */

#buttonMenu	{ padding:  0.5em 0.3em 0.1em 0.3em;
			  padding-left:6px;
			  border-bottom: thin solid #999999;
			  background: #BBBBBB;
			  vertical-align:top;
			  z-index:2;
			  visibility:visible;
			  left:0; top:0; 
			  text-align:left;
			  margin:0 1em 0 0; 
			  position:absolute;
			  width: 100%;
			  }
						  
a:link.button, a:visited.button, span.button {
			  border-left:1px solid #EEEEEE; border-right:1px solid #666666; border-top:1px solid #EEEEEE; border-bottom:1px solid #666666; background-color: #DDDDDD ;
			  color:#0000FF;
			  text-decoration: none;
			  text-align: center;
			  font-weight: bold ;
			  height:1.5em; width:17px; cursor:hand;
			  
			}
			
a:active.button, a:hover.button	{
			  border-left:1px solid #666666; border-right:1px solid #EEEEEE; border-top:1px solid #666666; border-bottom:1px solid #EEEEEE; background-color: #FFFFFF;
			  text-decoration: none;
			  text-align: center;
			  font-weight: bold ;
			  height:1.5em; width:17px; cursor:hand;
			  
			  }

/* The following span is used to display
items that have no entries  - AMS */
			  
span.buttoninactive {background: #C0C0C0;
					border: 1px solid #eeeeee;
					height: 1.4em;
					width: 1.4em;
					text-align: center;
					font-weight: bold;
					color: #808080;
					vertical-align:top;
					cursor: default
					}

#list		{ padding:.4em 0.3em 100% 0.3em;
			  overflow:auto;
			  line-height:0.4em;
			  height:100%; width: 100%;
			  z-index:1;
			  left:0; top:0; 
			  text-align:left;
			  margin:0; 
			  position:absolute;
			  margin-left:1em; line-height:100%;
			  }
			  
p.marker	{ font-weight:bold;
				margin-top: 2em;
				color:#000000;
				font-size:110%;
				}			  
/************************************************/
/* class styles reserved for mouseover/mouseout DHTML   */

.cold		{}
.hot		{}

/**********************************************************************/
/* ID styles reserved for <a> tags  calling OCX's within HTML Help by creating  OBJECTS */


#wPopup		{}

a:link#wPopup, a:visited#wPopup	{color: #006600;}
a:hover#wPopup, a:active#wPopup	{color: #FF0000;}


img.popup 	{border: none; margin-right: 0.5em; vertical-align:middle;}

#shortcut		{}

img.shortcut 	{border: none; margin-right: 0.5em; vertical-align:middle;}

#specLoc		{}

#altLoc		{}

p.note, p.tip, p.important, p.caution, p.warning 
		{ font-weight:bold; clear:both;
		 margin-top:1em; 
		 margin-bottom:-.25em; }    

img.alert		{border:none;} 		 /* for icon images - note, tip, important, caution, warning*/

/************************************************/
/* styles used to modify the appearance of XML popups   */

SPAN.XMLPopup 	{margin-bottom:.75em;height: 100%; width: 100%; border: solid; border-width:1px; background-color: #FFFFCC; }


DIV.PopTerm 	{ font-weight: bold; margin-left: 1em; margin-top: .75em; margin-right: 1em; }		
DIV.PopDef 		{ line-height: 1.25em; margin-left: 1em; margin-top: .25em; margin-right: 1em;}		
DIV.PopSeeAlso	{ margin-left: 1em; margin-top: .5em;  margin-right: 1em;}
DIV.PopDef UL 	{ margin-left: 1.45em; line-height: 1.25em; }

/************************************************/
/* Styles for listed-out/hard-coded links for Related Topics with page GIF */

p.#relTopics	{ font-weight:bold; margin-top: 2em;}
img.relTopics 	{ border: none; }
p.relTopics	{ margin-left: 1.5em; margin-top: -1.7em; margin-bottom: .5em;}

/***********************************/
/*   Style for print only functionality used with external URL link   coUA_print.css*/

span.printonly	{display:none }

/***********************************/
/*   Styles for checklists   */

.userData 	{behavior:url(#default#userdata); }  /*sets persistance*/

#checklist	{width:100%;  text-align:left; margin:0.3em 0em;}

#checklist li 	{text-indent:0.2em;}

/*********************************/				
/*  these classes are for previous next navigation     */

a:hover.navbar, a:active.navbar		{} /* text in nav */
a:link.navbar, a:visited.navbar		{}
			  
#nav	{ left:0; top:0px;
	  text-align:left; 
	  margin:0; 
	  position:absolute;
	  padding-bottom: 1px; padding-top: 3px;
	  padding-right:6px; padding-left:5px;
	  align:top;
	  visibility:hidden;
	  z-index:1;  }

#text	{ left:0; top:0px;
	   /*text-align:left;*/ /*Commented out because it was causing a problem with BI-DI. Remove style if no ill effects are found from commenting it out. - 5/28/99 AMS */
	   margin:0; 
	   position:absolute;
	   padding:10px;
	   overflow:auto;
	   height:100%;
	   z-index:1; 
         	   background-repeat:no-repeat;
	   background-position: bottom right;
	   background-attachment:fixed; }

/***************************************************/
/* STYLES USED IN THE WEB DELIVERABLE ONLY  */


/***********************************/
/*   links   */

#wPopupWeb	{}

a:link#wPopupWeb			{color: #006600;}
a:hover#wPopupWeb		{color: #FF0000;}
a:active#wPopupWeb		{color: #FF0000;}
a:visited#wPopupWeb		{color: #006600;}

#shortcutWeb	{}

#specLocWeb	{}

#relTopicsWeb	{}

#altLocWeb	{}


/***********************************/
/*   popups   */

div.popup		{ border:1px solid #666666; visibility:hidden; z-index:3;
				 position:absolute; 
                 top:200; left:200; 
                 width:250; padding:6px; 
                 background-color:#FFFFCC;
                 
                                      }
/***********************************/
/* Added the following DIV 12/20/00 to incorporate branding GIF (currently Windows Flag) to designate material in HSS as Microsoft (as opposed to OEM material. This style also required WIDTH tags on H1 and WIDTH and Margin-Top tags on P.Proclabel. - AMS*/


TABLE.nested
{
    BACKGROUND-COLOR: #ffffff;
}

TABLE.nested TH
{
    BACKGROUND-COLOR: #bbbbbb;
}

TABLE.nested TD
{
    BACKGROUND-COLOR: #dddddd;
}




.table
		{ font-size: 100%;
		margin-top: 1em; 
		margin-bottom: 1em; }
		
.th
		{ text-align: left;
		background: #DDDDDD;
		vertical-align: bottom;
		padding: .2em;
		padding-left: .45em;
		padding-right: .5em;}
		
.tr
		{ vertical-align: top; }

.td
		{ background: #EEEEEE;
		vertical-align: top;
		padding: .2em;
		padding-left: .45em;
		padding-right: .5em;}



</style>
</head>

<body bgcolor="#00B5F8">







<table border="0" width="100%" background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_05.png" cellspacing="0" cellpadding="0">
	<tbody><tr>
	
		<td>
	
		<img border="0" src="./Командная строка Windows (cmd). Справка и список комманд._files/logo.png" width="341" height="89" alt="cmdhelp.ru - информация о командной строке Windows">

		</td>
		<td>
		
		<table border="0" cellspacing="0" cellpadding="0">
	<tbody><tr>
		<td background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_03.png" width="134" height="89">
		<table border="0" width="100%" id="table4" cellspacing="0" cellpadding="0" class="cmd1">
			<tbody><tr>
				<td align="center"> 
				<a href="http://cmdhelp.ru/index.php?pages">
				<img border="0" src="./Командная строка Windows (cmd). Справка и список комманд._files/cmd.png" width="48" height="48" title="настройки и параметры командной строки Windows (cmd) ">
				</a>
				</td>
			</tr>
			<tr>
				<td align="center">
				
				<span lang="en-us">
					<a href="http://cmdhelp.ru/index.php?pages"><font face="Lucida Console" size="4" color="#FFFFFF">Статьи</font></a></span></td>
			</tr>
		</tbody></table>
		</td>
		<td width="20px"></td>
		<td background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_03.png" width="134" height="89">
		<table border="0" width="100%" id="table5" cellspacing="0" cellpadding="0">
			<tbody><tr>
				<td align="center">
			<a href="http://cmdhelp.ru/index.php?commands"><font face="Lucida Console" size="4" color="#FFFFFF">	<img border="0" src="./Командная строка Windows (cmd). Справка и список комманд._files/174.png" width="48" height="48" title="справочник и список команд cmd">
			</font></a><font face="Lucida Console" size="4" color="#FFFFFF">
			</font></td>
			</tr>
			<tr>
				<td align="center">
				
				
				<a href="http://cmdhelp.ru/index.php?commands"><font face="Lucida Console" size="4" color="#FFFFFF">Команды</font></a></td>
			</tr>
		</tbody></table>
		</td>
		<td width="20px"></td>
		<td background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_03.png" width="134" height="89">
		<table border="0" width="100%" id="table6" cellspacing="0" cellpadding="0">
			<tbody><tr>
				<td align="center">
				<a href="http://cmdhelp.ru/index.php?rab">
				<img border="0" src="./Командная строка Windows (cmd). Справка и список комманд._files/3.png" width="48" height="48" title="утитлиты работающие в режиме командной строки">
				</a>
				</td>
			</tr>
			<tr>
				<td align="center">
						<a href="http://cmdhelp.ru/forum"><font face="Lucida Console" size="4" color="#FFFFFF">Форум</font></a></td>
			</tr>
			
		</tbody></table>
		</td>
	</tr>
</tbody></table>
		
		</td>
	</tr>
</tbody></table>







<table border="0" width="100%" id="table2" cellspacing="0" cellpadding="0">
	<tbody><tr>
		<td>
		<table border="0" width="100%" cellspacing="0" cellpadding="0">
			<tbody><tr>
				<td width="2px" background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_06.png"></td>
				<td background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_07.png" height="23">
				</td>
				<td background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_11.png" height="23" width="3">
				
				
				
				</td>
			</tr>
			<tr>
				<td width="2px" background="./Командная строка Windows (cmd). Справка и список комманд._files/left.png"></td>
				<td background="./Командная строка Windows (cmd). Справка и список комманд._files/bg.png">
				
							<table border="0" width="100%" id="table8" cellspacing="9" cellpadding="0">
					<tbody><tr>
						<td>
						
						
	<div style="clear:both; position:relative; display:table">
	<div style="float:left"><img src="./Командная строка Windows (cmd). Справка и список комманд._files/x_445a5c2a.jpg"></div>
	<div style="float:left">
	<span style="color:red"><strong>Warning! Warning!</strong></span> Нашему чудному сайту требуются волонтеры! Если вы дизайнер, сисадмин или веб-разработчик - большая просьба обратится в ICQ: 688863. 
		Любую безвозмездную помощь очень ценим!</div>
		</div>
		<hr>

	
						<center>
<script type="text/javascript"><!--
google_ad_client = "pub-0388613283378886";
/* 728x90, создано 02.03.09 */
google_ad_slot = "5751402600";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="./Командная строка Windows (cmd). Справка и список комманд._files/show_ads.js">
</script><ins style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins>
</center>						

	
						


















  





<div class="Uabrand"><span class="WebOnly"></span></div>


<h1>Общие сведения о командной оболочке</h1>

Командная оболочка — это отдельный программный продукт, который обеспечивает прямую связь между пользователем и операционной системой. Текстовый пользовательский интерфейс командной строки предоставляет среду, в которой выполняются приложения и служебные программы с текстовым интерфейсом.  В командной оболочке программы выполняются и результат выполнения отображается на экране в виде, сходном с интерпретатором Command.com <nobr>MS-DOS</nobr>.  Командная оболочка <noloc>Windows&nbsp;XP</noloc> использует интерпретатор команд Cmd.exe, который загружает приложения и направляет поток данных между приложениями, для перевода введенной команды в понятный системе вид.

Имеется возможность использовать командную оболочку для создания и редактирования пакетных файлов (также называемых сценариями), что позволит автоматизировать выполнение обычных задач.  Например, можно использовать сценарии для автоматизации управления учетными записями пользователей и ежедневной архивацией в нерабочие часы.  Также можно использовать сервер сценариев Windows, <a href="http://cmdhelp.ru/index.php?cmd=cscript_overview">CScript.exe</a>, для выполнения в командной оболочке сложных сценариев.     Выполнение операций с помощью пакетных файлов является более эффективным, чем с помощью интерфейса пользователя.  Пакетные файлы принимают все команды, доступные из командной строки. Дополнительные сведения о пакетных файлах и создании сценариев см. в разделе <a href="http://cmdhelp.ru/index.php?cmd=batch">Использование пакетных файлов</a>.

Имеется возможность настроить окно командной строки для облегчения просмотра и для увеличения контроля за выполнением программ. Дополнительные сведения о настройке окна командной строки см. в разделе <a href="http://cmdhelp.ru/index.php?cmd=CommandPromptOptions">Настройка командной строки</a>.

<h2>Использование синтаксиса команд</h2>

Синтаксическая структура выводится в том порядке, в котором следует вводить команду и следующие за ней параметры, если они есть.  Следующий пример команды <b>xcopy</b> иллюстрирует разнообразие синтаксических форматов текста.

<nobr><b>xcopy</b> <i>источник</i> [<i>результат</i>] <wbr>[<b>/w</b>] <wbr>[<b>/p</b>] <wbr>[<b>/c</b>] <wbr>[<b>/v</b>] <wbr>[<b>/q</b>] <wbr>[<b>/f</b>] <wbr>[<b>/l</b>] <wbr>[<b>/g</b>] <wbr>[<b>/d</b>[<b>:</b><i>мм-дд-гггг</i>]] <wbr>[<b>/u</b>] <wbr>[<b>/i</b>] <wbr>[<b>/s</b> [<b>/e</b>]] <wbr>[<b>/t</b>] <wbr>[<b>/k</b>] <wbr>[<b>/r</b>] <wbr>[<b>/h</b>] <wbr>[{<b>/a</b>|<b>/m</b>}] <wbr>[<b>/n</b>] <wbr>[<b>/o</b>] <wbr>[<b>/x</b>] <wbr>[<b>/exclude:</b><i>файл1</i>[<b>+</b>[<i>файл2</i>]][<b>+</b>[<i>файл3</i>]] <wbr>[{<b>/y</b>|<b>/-y</b>}] <wbr>[<b>/z</b>]</nobr>

В следующей таблице показано, как следует интерпретировать различные текстовые форматы.

<noloc>
   <h2>Форматирование</h2>
<table width="100%" class="format">
	<tbody><tr class="format1">
		<th class="format2">Формат</th>
		<th class="format2">Значение</th>
	</tr>
	<tr class="format1">
		<td class="format4"><i>Курсив</i></td>
		<td class="format4">Данные, которые должен ввести пользователь</td>
	</tr>
	<tr class="format1">
		<td class="format4"><b>Полужирный шрифт</b></td>
		<td class="format4">Элементы, которые следует вводить точно, как показано</td>
	</tr>
	<tr class="format1">
		<td class="format4">Пропуск (...)</td>
		<td class="format4">Параметры могут повторяться несколько раз в командной строке</td>
	</tr>
	<tr class="format1">
		<td class="format4">В квадратных скобках ([])</td>
		<td class="format4">Необязательные элементы</td>
	</tr>
	<tr class="format1">
		<td class="format4">В фигурных скобках ({}); варианты разделены вертикальной чертой (|). 
		Пример: {четные|нечетные}</td>
		<td class="format4">Набор значений, из которого можно выбрать только одно значение</td>
	</tr>
	<tr class="format1">
		<td class="format4"><code>Шрифт Courier</code></td>
		<td class="format4">Текст кода или выхода программы</td>
	</tr>
</tbody></table></noloc>


<h2>Использование нескольких команд и символов условной обработки</h2>

Можно выполнять несколько команд из одной командной строки или сценария с помощью сиволов условной обработки.  При использовании нескольких команд, содержащих символы условной обработки, выполнение команд, стоящих справа от символа условной обработки, будет проводиться в зависимости от результатов выполнения команды, стоящей слева от символа.  Например, требуется, чтобы команда выполнялась, только если предыдущая команда не была выполнена успешно.  Или требуется, чтобы команда выполнялась, только если предыдущая команда была выполнена успешно.

Для передачи нескольких команд можно использовать специальные символы, перечисленные в следующей таблице.
<table width="100%">
<tbody><tr>
<th>Символ</th>
<th>Синтаксис</th>
<th>Определение</th>
</tr>
<tr>
<td><b>&amp;</b> [...]</td>
<td><i>команда1</i>&nbsp;<b>&amp;</b> <i>команда2</i></td>
<td>Используется для разделения нескольких команд в одной командной строке. В Cmd.exe выполняется первая команда, затем вторая команда.</td>
</tr>
<tr>
<td><b>&amp;&amp;</b> [...]</td>
<td><i>команда1</i>&nbsp;<b>&amp;&amp;</b> <i>команда2</i></td>
<td>Запускает команду, стоящую за символом <b>&amp;&amp;</b>, только если команда, стоящая перед этим символом была выполнена успешно. В Cmd.exe выполняется первая команда. Вторая команда выполняется, только если первая была выполнена успешно. </td>
</tr>
<tr>
<td><b>||</b> [...]</td>
<td><i>команда1</i>&nbsp;<b>||</b> <i>команда2</i></td>
<td> Запускает команду, стоящую за символом <b>||</b>, только если команда, стоящая перед символом <b>||</b> не была выполнена. В Cmd.exe выполняется первая команда. Вторая команда выполняется, только если первая не была выполнена (полученный код ошибки превышает ноль).</td>
</tr>
<tr>
<td><b>( )</b> [...]</td>
<td><b>(</b><i>команда1</i>&nbsp;<b>&amp;</b>&nbsp;<i>команда2</i><b>)</b> </td>
<td>Используется для группировки или вложения команд.</td>
</tr>
<tr>
<td><b>;</b> или <b>,</b></td>
<td><i>команда1</i>&nbsp;<i>параметр1</i><b>;</b><i>параметр2</i></td>
<td>Используется для разделения параметров команды.</td>
</tr>
</tbody></table>

Примечания
<ul>
    <li>Амперсанд (&amp;), вертикальная черта (|) и скобки ( ) являются специальными символами, которым должен предшествовать управляющий символ (^) или кавычки, если эти символы передаются в качестве аргументов.</li>
	<li>Если команда завершает операцию успешно, возвращается нулевой (0) код ошибки или не возвращается никакого кода.  Дополнительные сведения о кодах завершения см. в разделе&nbsp;Пакеты Microsoft Windows Resource Kits. 
	</li>
</ul>

<h2>Вложенные командные оболочки</h2>
Имеется возможность вкладывать командные оболочки в Cmd.exe, открывая новый экземпляр Cmd.exe из командной строки. По умолчанию каждый экземпляр Cmd.exe наследует среду своего родительского приложения Cmd.exe. Вложение экземпляров Cmd.exe позволяет вносить в локальную среду изменения, которые не повлияют на родительское приложение Cmd.exe.  Это позволяет сохранять исходную среду Cmd.exe и возвращаться к ней после удаления вложенной командной оболочки.  Изменения вложенной командной оболочки не сохраняются.

Чтобы создать вложенную командную оболочку, в командной строке введите:
<b>cmd</b>
Появится сообщение следующего вида:

<code>Microsoft (R) <noloc>Windows&nbsp;XP</noloc> (TM)<br> (C) Copyright 1985-2001 Microsoft Corp.</code>

Чтобы закрыть все вложенные командные оболочки, введите команду <b>exit</b>.

Можно еще уже локализовать изменения в экземпляре Cmd.exe (или в сценарии) с помощью команд <b>setlocal</b> и <b>endlocal</b>.  Команда <b>setlocal</b> создает локальную область, а <b>endlocal</b> ее удаляет.  Любые изменения, сделанные внутри области, созданной командами <b>setlocal</b> и <b>endlocal</b>, не учитываются; таким образом исходная среда остается без изменений.  С помощью этих команд можно создать до 32 вложенных областей.  Дополнительные сведения о командах <b>setlocal</b> и <b>endlocal</b> см. в разделах <a href="http://cmdhelp.ru/index.php?cmd=setlocal">Setlocal</a> и <a href="http://cmdhelp.ru/index.php?cmd=endlocal">Endlocal</a>.

<h2>Использование переменных среды в Cmd.exe</h2>
Среда командной оболочки Cmd.exe определяется переменными, задающими поведение командной оболочки и операционной системы.  Имеется возможность определить поведение среды командной оболочки или среды всей операционной системы с помощью двух типов переменных среды: системных и локальных.  Системные переменные среды определяют поведение глобальной среды операционной системы.  Локальные переменные среды определяют поведение среды в данном экземпляре Cmd.exe.

Системные переменные среды заданы заранее в операционной системе и доступны для всех процессов <noloc>Windows&nbsp;XP</noloc>. Только пользователи с привилегиями администратора могут изменять эти переменные.  Эти переменные наиболее часто используются в сценариях входа в систему.

Локальные переменные среды доступны, только когда пользователь, для которого они были созданы, вошел в систему.  Локальные переменные из куста <b>HKEY_CURRENT_USER</b> подходят только для текущего пользователя, но определяют поведение глобальной среды операционной системы.

В следующем списке представлены различные типы переменных в порядке убывания приоритета. 

	<li>Встроенные системные переменные</li>
	<li>Системные переменные куста <b>HKEY_LOCAL_MACHINE</b></li>
	<li>Локальные переменные куста <b>HKEY_CURRENT_USER</b></li>
	<li>Все переменные среды и пути указаны в файле Autoexec.bat.</li>
	<li>Все переменные среды и пути указаны в сценарии входа в систему (если он имеется).</li>
	<li>Переменные, используемые интерактивно в сценарии или пакетном файле</li>


В командной оболочке каждый экземпляр Cmd.exe наследует среду своего родительского приложения.  Поэтому можно изменять переменные в новой среде Cmd.exe, что не повлияет на среду родительского приложения.

В следующей таблице приведен список системных и локальных переменных среды для <noloc>Windows&nbsp;XP</noloc>.

<table width="100%">
<tbody><tr>
<th>Переменная</th>
<th>Тип</th>
<th>Описание</th>
</tr>
<tr>
<td><nobr>%ALLUSERSPROFILE%</nobr></td>
<td>Локальная</td>
<td>Возвращает размещение профиля «All Users».</td>
</tr>
<tr>
<td><nobr>%APPDATA%</nobr></td>
<td>Локальная</td>
<td>Возвращает используемое по умолчанию размещение данных приложений.</td>
</tr>
<tr>
<td><nobr>%CD%</nobr></td>
<td>Локальная</td>
<td>Возвращает путь к текущей папке.</td>
</tr>
<tr>
<td><nobr>%CMDCMDLINE%</nobr></td>
<td>Локальная</td>
<td>Возвращает строку команд, с помощью которой был запущен данный экземпляр Cmd.exe.</td>
</tr>
<tr>
<td><nobr>%CMDEXTVERSION%</nobr></td>
<td>Системная</td>
<td>Возвращает номер версии текущих расширений обработчика команд.</td>
</tr>
<tr>
<td><nobr>%COMPUTERNAME%</nobr> </td>
<td>Системная</td>
<td>Возвращает имя компьютера.</td>
</tr>
<tr>
<td><nobr>%COMSPEC%</nobr> </td>
<td>Системная</td>
<td>Возвращает путь к исполняемой командной оболочке.</td>
</tr>
<tr>
<td><nobr>%DATE%</nobr> </td>
<td>Системная</td>
<td>Возвращает текущие данные. Использует тот же формат, что и команда <b>date /t</b>. Создается командой Cmd.exe. Дополнительные сведения о команде <b>date</b> см. в разделе <a href="http://cmdhelp.ru/index.php?cmd=date">Date</a>.</td>
</tr>
<tr>
<td><nobr>%ERRORLEVEL%</nobr> </td>
<td>Системная</td>
<td>Возвращает код ошибки последней использовавшейся команды. Значение, не равное нуля, обычно указывает на наличие ошибки.</td>
</tr><tr>
<td><nobr>%HOMEDRIVE%</nobr>  </td>
<td>Системная</td>
<td>Возвращает имя диска локальной рабочей станции, связанного с основным каталогом пользователя. Задается на основании расположения основного каталога. Основной каталог пользователя указывается в оснастке «Локальные пользователи и группы».</td>
</tr>
<tr>
<td><nobr>%HOMEPATH%</nobr>  </td>
<td>Системная</td>
<td>Возвращает полный путь к основному каталогу пользователя. Задается на основании расположения основного каталога. Основной каталог пользователя указывается в оснастке «Локальные пользователи и группы».</td>
</tr>
<tr>
<td><nobr>%HOMESHARE%</nobr> </td>
<td>Системная</td>
<td>Возвращает сетевой путь к общему основному каталогу пользователя. Задается на основании расположения основного каталога. Основной каталог пользователя указывается в оснастке «Локальные пользователи и группы».</td>
</tr>
<tr>
<td><nobr>%LOGONSEVER%</nobr> </td>
<td>Локальная</td>
<td>Возвращает имя контроллера домена, который проверял подлинность текущей сессии.</td>
</tr>
<tr>
<td><nobr>%NUMBER_OF_PROCESSORS%</nobr> </td>
<td>Системная</td>
<td>Задает количество процессоров, установленных на компьютере.</td>
</tr>
<tr>
<td><nobr>%OS%</nobr> </td>
<td>Системная</td>
<td>Возвращает имя операционной системы. При использовании <noloc>Windows&nbsp;2000</noloc> имя операционной системы отображается как <noloc>Windows_NT</noloc>.</td>
</tr>
<tr>
<td><nobr>%PATH%</nobr></td>
<td>Системная</td>
<td>Указывает путь поиска для исполняемых файлов.</td>
</tr>
<tr>
<td><nobr>%PATHEXT%</nobr></td>
<td>Системная</td>
<td>Возвращает список расширений файлов, которые рассматриваются операционной системой как исполняемые.</td>
</tr><tr>
<td><nobr>%PROCESSOR_ARCHITECTURE%</nobr> </td>
<td>Системная</td>
<td>Возвращает архитектуру процессора. Значения: x86, IA64.</td>
</tr>
<tr>
<td><nobr>%PROCESSOR_IDENTFIER%</nobr></td>
<td>Системная</td>
<td>Возвращает описание процессора.</td>
</tr>
<tr>
<td><nobr>%PROCESSOR_LEVEL%</nobr> </td>
<td>Системная</td>
<td>Возвращает номер модели процессора, установленного на компьютере.</td>
</tr><tr>
<td><nobr>%PROCESSOR_REVISION%</nobr></td>
<td>Системная</td>
<td>Возвращает номер модификации процессора. </td>
</tr>
<tr>
<td><nobr>%PROMPT%</nobr></td>
<td>Локальная</td>
<td>Возвращает параметры командной строки для текущего интерпретатора. Создается командой Cmd.exe.</td>
</tr>
<tr>
<td><nobr>%RANDOM%</nobr></td>
<td>Системная</td>
<td>Возвращает произвольное десятичное число от 0 до 32767. Создается командой Cmd.exe.</td>
</tr>
<tr>
<td><nobr>%SYSTEMDRIVE%</nobr></td>
<td>Системная</td>
<td>Возвращает имя диска, содержащего корневой каталог <noloc>Windows&nbsp;XP</noloc> (т. е. системный каталог).</td>
</tr>
<tr>
<td><nobr>%SYSTEMROOT%</nobr> </td>
<td>Системная</td>
<td>Возвращает размещение системного каталога <noloc>Windows&nbsp;XP</noloc>.</td>
</tr>
<tr>
<td><nobr>%TEMP%</nobr> и <nobr>%TMP%</nobr></td>
<td>Системная и пользовательская</td>
<td>Возвращает временные папки, по умолчанию используемые приложениями, которые доступны пользователям, выполнившим вход в систему. Некоторые приложения требуют переменную TEMP, другие — переменную TMP.</td>
</tr>
<tr>
<td><nobr>%TIME%</nobr></td>
<td>Системная</td>
<td>Возвращает текущее время. Использует тот же формат, что и команда <b>time /t</b>. Создается командой Cmd.exe. Дополнительные сведения о команде <b>time</b> см. в разделе <a href="http://cmdhelp.ru/index.php?cmd=time">Time</a>.</td>
</tr>
<tr>
<td><nobr>%USERDOMAIN%</nobr></td>
<td>Локальная</td>
<td>Возвращает имя домена, содержащего список учетных записей пользователей.</td>
</tr><tr>
<td><nobr>%USERNAME%</nobr></td>
<td>Локальная</td>
<td>Возвращает имя пользователя, выполнившего вход в систему.</td>
</tr>
<tr>
<td><nobr>%USERPROFILE%</nobr></td>
<td>Локальная</td>
<td>Возвращает размещение профиля для текущего пользователя.</td>
</tr>
<tr>
<td><nobr>%WINDIR%</nobr></td>
<td>Системная</td>
<td>Возвращает размещение каталога операционной системы.</td>
</tr>
</tbody></table>

<h2>Установка переменных среды</h2>

Используйте команду <b>set</b> для создания, удаления или отображения переменных среды.  Команда <b>set</b> изменяет переменные только в среде текущей оболочки. 

Чтобы отобразить переменную, в командной строке введите:
<b>set</b> <i>имя_переменной</i>

Чтобы добавить переменную, в командной строке введите:
<b>set variablename=</b><i>значение</i>

Чтобы удалить переменную, в командной строке введите:
<b>set</b> <i>имя_переменной</i><b>=</b>

Имеется возможность использовать большинство символов в качестве значений переменных, в том числе пробел.  При использовании специальных символов, таких как &lt;, &gt;, &amp;, или ^, перед ними следует помещать управляющий символ (^) или кавычки.  При использовании кавычек они включаются в значение переменной, так как все символы, следующие после знака равенства принимаются за значение переменной.  Учтите следующие примеры.

<ul>
<li>Чтобы создать значение переменной <b>new&amp;name</b> ,введите:
<b>set varname=new^&amp;name</b></li>
<li>Чтобы создать значение переменной <b>"new&amp;name"</b> ,введите:
<b>set varname="new&amp;name"</b></li>
<li>При вводе в командной строке <b>set varname=new&amp;name</b> появляется следующее сообщение об ошибке:
<pre><code>"'name' is not recognized as an internal or external command, operable program or batch file."</code></pre></li>
</ul>

В именах переменных регистр символов не учитывается. Однако, команда <b>set</b> отображает значение переменной так, как оно было введено. Можно комбинировать символы нижнего и верхнего регистра в именах переменных, чтобы облегчить восприятие кода (например, ИмяПользователя).
Примечания

<ul>
    <li>Максимальный размер отдельной переменной среды составляет 8192 байта.</li>
    <li>Максимальный общий размер всех переменных среды, включая имена переменных и знак равенства, составляет 65&nbsp;536 Кбайт.</li>
</ul>

<h2>Подстановка значений в переменные среды</h2>

Чтобы иметь возможность подставлять значения в переменную среды из командной строки или из сценариев, следует заключить имя соответствующей переменной в символы процентов (<nobr><b>%</b><i>имя_переменной</i><b>%</b></nobr>).  Символы процентов указывают на то, что Cmd.exe должен обратиться к значениям переменных, а не делать посимвольное сравнение.  После определения значения для имени переменной, заключите имя переменной в символы процентов. Cmd.exe проводит поиск всех вхождений имени переменной и заменяет его на определенное значение переменной. Например, требуется создать сценарий, содержащий различные значения (например, имена пользователей), и требуется определить соответствующее значение переменной среды USERNAME для каждого пользователя. Для этого следует написать сценарий с использованием переменной USERNAME, заключенной в кавычки.  При выполнении сценария Cmd.exe заменит вхождения %USERNAME% соответствующими значениями, что избавит от необходимости делать это вручную для каждого пользователя. Подстановка значений не является рекурсивной. Cmd.exe проверяет переменные один раз.  Дополнительные сведения о подстановке значений в переменные см. в разделах <a href="http://cmdhelp.ru/index.php?cmd=for">For</a> и <a href="http://cmdhelp.ru/index.php?cmd=call">Call</a>.



 <center>[ <a href="javascript:history.go(-1)">Назад</a>]</center>						</td>
					</tr>
				</tbody></table>
				</td>
				<td background="./Командная строка Windows (cmd). Справка и список комманд._files/right.png" height="23" width="3"></td>
			</tr>
			<tr>
				<td width="2px" height="3px" background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_21.png"></td>
				<td background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_22.png" height="3">
				</td>
				<td background="./Командная строка Windows (cmd). Справка и список комманд._files/Untitled-12_23.png" height="3" width="3"></td>
			</tr>
		</tbody></table>
		</td>
	</tr>
</tbody></table>



<center>
<!--LiveInternet counter--><script type="text/javascript"><!--
document.write("<a href='http://www.liveinternet.ru/click' "+
"target=_blank><img src='http://counter.yadro.ru/hit?t26.6;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+
"' alt='' title='LiveInternet: показано число посетителей за"+
" сегодня' "+
"border=0 width=88 height=15><\/a>")//--></script><a href="http://www.liveinternet.ru/click" target="_blank"><img src="./Командная строка Windows (cmd). Справка и список комманд._files/hit" alt="" title="LiveInternet: показано число посетителей за сегодня" border="0" width="88" height="15"></a><!--/LiveInternet--></center>





</body></html>